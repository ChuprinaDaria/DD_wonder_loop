def get_welcome_message(is_trusted: bool) -> str:
    """Привітальне повідомлення"""
    base_message = """
🧾 Що можна робити далі:

Тут ви можете:
✉️ Додавати лоти 
📃 Переглядати свої пости
✍️ Ознайомитись з правилами [не нудні, клянемся]
📖 Читати чужі оголошення і шукати “ свою банку”
"""
    
    if is_trusted:
        base_message += "\n🔥 Ви клієнт DD Wonder - Wonder Trust !\n"
        base_message += "• Ваші пости публікуються автоматично\n"
        base_message += "• Ліміт: до 10 постів на день\n"
        base_message += "• Бенефіти від DD Wonder\n\n"
    else:
        base_message += "\n⏳ Нові користувачі проходять модерацію\n"
        base_message += "• Ваші пости проходитимуть модерацію\n"
        base_message += "• Ліміт: до 5 постів на день\n"
        base_message += "• Після 15 успішних угод — автоматичне підвищення до “Wonder Trust” [потім будуть бенефіти від DD]\n\n"
    
    base_message += "Дякуємо, що з нами —тут можна чесно, спокійно і навіть із мемчикамивідпустити все, що не зайшло 💅\n"
    base_message += "Почніть з кнопки **«✉️ Додати лот»**!"
    
    return base_message


def get_rules_message() -> str:
    """Повідомлення з правилами"""
    return """
📋 **ПРАВИЛА DD Wonderloop**

🔸 **ФОТО:**
• Тільки якісні фото на білому/нейтральному фоні
• Без сторонніх предметів у кадрі
• Від 1 до 3 фотографій на лот
• На фото автоматично додається водяний знак

🔸 **ОПИС:**
• Вказуйте реальні дані про товар
• Будьте чесними щодо стану та терміну придатності
• Опишіть причину продажу

🔸 **ПОВЕДІНКА:**
• Швидко реагуйте на повідомлення покупців
• Будьте ввічливими та професійними
• Не порушуйте авторські права

⚡️ **ЛІМІТИ:**
• 👑 Wonder Trust: до 10 постів на день
• 🆕 Нові користувачі: до 5 постів на день

🎯 **РЕЙТИНГ:**
Ваш рейтинг залежить від кількості успішних продажів!
• 0-5 продажів: 🌟
• 5-15 продажів: 🌟🌟
• 15-25 продажів: 🌟🌟🌟
• 25+ продажів: 🌟🌟🌟🌟

💰 **ЯК ПРОДАТИ:**
1. Натисніть "✉️ Додати лот"
2. Заповніть всю інформацію
3. Додайте якісні фото
4. Дочекайтесь публікації
5. Відповідайте покупцям у особистих повідомленнях

❓ **ПИТАННЯ?**
Звертайтеся до адміністрації: @dd_wonder_admin
"""


def get_moderation_approved_message() -> str:
    """Повідомлення про схвалення модерацією"""
    return "🎉 Відпущено з любов'ю!\n\nВаш лот пройшов модерацію та опублікований у каналі! 💖"


def get_moderation_rejected_message(reason: str = None) -> str:
    """Повідомлення про відхилення модерацією"""
    return "💔 Банкочка не пройшла фейс-контроль. 💔 "
   


def get_daily_limit_message(limit: int) -> str:
    """Повідомлення про досягнення денного ліміту"""
    return f"⏰ Денний ліміт вичерпано!\n\nВи досягли свого денного ліміту в {limit} постів.\nСпробуйте знову завтра! 🌅"


def get_registration_success_message(is_trusted: bool) -> str:
    """Повідомлення про успішну реєстрацію"""
    base_message = "✅ ви в системі. реєстрацію пройдено.\n\n"
    
    if is_trusted:
        base_message += "💖тепер можна виставляти свої банки\n"
        base_message += "ви довірений користувач! Wonder Trust 🎉\n"
    else:
        base_message += "⏳ тепер можна виставляти свої банки — але з невеликим нюансом:\n"
        base_message += "⏳ пости проходять модерацію. поки ми не впевнені, що ви не дропшипер з готелю турції 2017"
    
    return base_message


def get_lot_created_trusted_message() -> str:
    """Повідомлення про створення лоту довіреним користувачем"""
    return "✅ **Лот створено та опубліковано в каналі!**\n\nДякуємо за використання Wonder_loop! 💖"


def get_lot_created_moderation_message() -> str:
    """Повідомлення про створення лоту з модерацією"""
    return "✅ **Лот створено та відправлено на модерацію!**\n\nМи розглянемо його найближчим часом та повідомимо про результат. ⏳"


def get_no_lots_message() -> str:
    """Повідомлення про відсутність лотів"""
    return "📝 **У вас поки немає лотів**\n\nСтворіть свій перший лот за допомогою кнопки «✉️ Додати лот»!"


def get_lot_status_updated_message(status: str) -> str:
    """Повідомлення про оновлення статусу лоту"""
    status_messages = {
        'active': 'актуальним ✨',
        'reserved': 'заброньованим 🔒',
        'sold': 'проданим ✅'
    }
    
    status_text = status_messages.get(status, status)
    return f"✅ **Статус лоту оновлено!**\n\nВаш лот тепер позначено як **{status_text}**"


def get_lot_delete_confirm_message() -> str:
    """Повідомлення підтвердження видалення лоту"""
    return "⚠️ **Ви впевнені що хочете видалити цей лот?**\n\nЦю дію неможливо скасувати!"


def get_lot_deleted_message() -> str:
    """Повідомлення про видалення лоту"""
    return "✅ **Лот видалено!**"


def get_admin_stats_message(stats: dict) -> str:
    """Повідомлення з адмін статистикою"""
    return f"""
🔧 **АДМІН ПАНЕЛЬ WONDER_LOOP**

📊 **Загальна статистика:**
👥 Всього користувачів: {stats.get('total_users', 0)}
✅ Довірених користувачів: {stats.get('trusted_users', 0)}
📦 Всього лотів: {stats.get('total_lots', 0)}
⏳ На модерації: {stats.get('pending_lots', 0)}
🔁 Активних: {stats.get('active_lots', 0)}
✅ Продано: {stats.get('sold_lots', 0)}

📈 **За сьогодні:**
👤 Нових користувачів: {stats.get('today_users', 0)}
📦 Нових лотів: {stats.get('today_lots', 0)}
✅ Продажів: {stats.get('today_sales', 0)}

💰 **Фінанси:**
📊 Середня ціна лотів: {stats.get('avg_price', 0):.0f} грн
💸 Загальна вартість проданого: {stats.get('total_sold_value', 0):.0f} грн
"""


def get_broadcast_sent_message(count: int) -> str:
    """Повідомлення про успішну розсилку"""
    return f"📢 **Розсилку завершено!**\n\nПовідомлення відправлено **{count}** користувачам."


def get_csv_processed_message(added: int, updated: int) -> str:
    """Повідомлення про обробку CSV файлу"""
    return f"""
✅ **CSV файл оброблено!**

📊 **Результати:**
➕ Додано нових довірених: {added}
🔄 Оновлено існуючих: {updated}

Тепер користувачі з цими контактами автоматично стануть довіреними при реєстрації.
"""


def get_rating_stars(sales_count: int) -> str:
    """Отримання зірочок рейтингу на основі кількості продажів"""
    if sales_count >= 25:
        return "🌟🌟🌟🌟"
    elif sales_count >= 15:
        return "🌟🌟🌟"
    elif sales_count >= 5:
        return "🌟🌟"
    else:
        return "🌟"


def get_user_stats_message(user_stats: dict) -> str:
    """Повідомлення зі статистикою користувача"""
    rating_stars = get_rating_stars(user_stats.get('total_sales', 0))
    
    return f"""
📊 **ВАША СТАТИСТИКА**

{rating_stars} **Ваш рейтинг**

📦 Всього лотів: {user_stats.get('total_posts', 0)}
✅ Продано: {user_stats.get('total_sales', 0)}
🔁 Активних: {user_stats.get('active_lots', 0)}
⏳ На модерації: {user_stats.get('pending_lots', 0)}

💰 Загальна сума продажів: {user_stats.get('total_earnings', 0):.0f} грн
📈 Рейтинг успішності: {user_stats.get('success_rate', 0):.1f}%

{get_rating_description(user_stats.get('total_sales', 0))}
"""


def get_rating_description(sales_count: int) -> str:
    """Опис рейтингу"""
    if sales_count >= 25:
        return "🏆 **Супер-продавець!** Ви справжній профі Wonder_Loop!"
    elif sales_count >= 15:
        return "⭐ **Досвідчений продавець!** Ваша репутація на висоті!"
    elif sales_count >= 5:
        return "🌸 **Активний продавець!** Продовжуйте в тому ж дусі!"
    else:
        return "🌱 **Початківець** - попереду ще багато можливостей!"


def get_error_message() -> str:
    """Загальне повідомлення про помилку"""
    return "❌ **Щось пішло не так...**\n\nСпробуйте ще раз або зверніться до адміністрації."


def get_photo_validation_failed_message() -> str:
    """Повідомлення про невдалу перевірку фото"""
    return """
❌ **Фото не пройшло перевірку!**

Переконайтеся що:
• Фон білий або нейтральний
• Немає сторонніх предметів
• Товар чітко видно
• Освітлення достатнє

Надішліть інше фото:
"""


def get_cancel_message() -> str:
    """Повідомлення про скасування"""
    return "❌ **Дію скасовано**"


def get_registration_required_message() -> str:
    """Повідомлення про необхідність реєстрації"""
    return "❌ **Спочатку пройдіть реєстрацію**\n\nВикористайте команду /start"